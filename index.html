<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>DilekÃ§e OluÅŸtur</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
    body {
      font-family:calibri, "Times New Roman", serif;
      background-color: #f4f4f4;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
      margin-bottom: 16px;
      font-size: 16px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-right: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 40px;
    }

    table, th, td {
      border: 1px solid black;
      text-align: center;
      padding: 10px;
    }

    .letter-section {
      display: none;
      margin-top: 40px;
      padding: 40px;
      background: white;
      border: none;
    }

    .center-text {
      text-align: center;
      margin: 0;
      line-height: 1.1;
    }

    .left-text {
      text-align: justify;
      margin-top: 20px;
      white-space: pre-line;
    }

    .download-button {
      display: none;
      margin-top: 20px;
    }

    @media print {
      body * {
        visibility: hidden;
      }

      .letter-section, .letter-section * {
        visibility: visible;
      }

      .letter-section {
        position: absolute;
        top: 0;
        left: 0;
        width: 210mm;
        height: 297mm;
        background: white !important;
        padding: 40px;
        margin: 0;
        box-shadow: none !important;
        border: none !important;
      }

      .download-button {
        display: none !important;
      }
    }

#epostaAltMetin {
  color: red;
  font-weight: bold;
  margin-top: 50px;
  text-align: center;
  font-size: 11pt;
}
  </style>
</head>
<body>
  <div class="container">
    <h2>Ã‡akÄ±ÅŸan Ders Alma DilekÃ§esi OluÅŸturma</h2>
    <form id="dilekceForm">
      <label>AdÄ±nÄ±z:</label>
      <input type="text" id="ad" required />

      <label>SoyadÄ±nÄ±z:</label>
      <input type="text" id="soyad" required />

      <label>Ã–ÄŸrenci NumarasÄ±:</label>
      <input type="text" id="numara" required />

      <label>E-posta:</label>
      <input type="email" id="email" required />

      <label>Cep Telefonu:</label>
      <input type="text" id="telefon" required />

      <label>OBS Ãœzerinden SeÃ§tiÄŸim Dersin Kodu-AdÄ±:</label>
      <input type="text" id="obsDers" required />

      <label>FYK KararÄ± ile Eklenecek Dersin Kodu-AdÄ±:</label>
      <input type="text" id="yeniDers" required />

      <label>Eklemek istediÄŸim Dersin Grubu:</label>
      <input type="number" id="grup" required />

      <label>Eklenecek Ders <strong>Dahil</strong> BAHAR YarÄ±yÄ±lÄ±nda <strong>AlÄ±nan Toplam Kredi</strong>:</label>
      <input type="number" id="kredi" required />

      <label>Derslerin Ã‡akÄ±ÅŸtÄ±ÄŸÄ± GÃ¼n ve Saat Bilgisi (Ã–rnekteki gibi giriniz):</label>
      <input type="text" id="gunsaat" placeholder="Ã–rn: Pazartesi 09:00" required />

      <label>BÃ¶lÃ¼m SeÃ§iniz:</label>
      <select id="bolumSelect" required>
        <option value="MATEMATÄ°K BÃ–LÃœM BAÅžKANLIÄžINA">MATEMATÄ°K</option>
        <option value="FÄ°ZÄ°K BÃ–LÃœM BAÅžKANLIÄžINA">FÄ°ZÄ°K</option>
        <option value="KÄ°MYA BÃ–LÃœM BAÅžKANLIÄžINA">KÄ°MYA</option>
        <option value="Ä°STATÄ°STÄ°K BÃ–LÃœM BAÅžKANLIÄžINA">Ä°STATÄ°STÄ°K</option>
        <option value="MOLEKÃœLER BÄ°YOLOJÄ° VE GENETÄ°K BÃ–LÃœM BAÅžKANLIÄžINA">MOLEKÃœLER BÄ°YOLOJÄ° VE GENETÄ°K</option>
<option value="TÃœRK DÄ°LÄ° VE EDEBÄ°YATI BÃ–LÃœM BAÅžKANLIÄžINA">TÃœRK DÄ°LÄ° VE EDEBÄ°YATI</option>
<option value="BATI DÄ°LLERÄ° VE EDEBÄ°YATLARI BÃ–LÃœM BAÅžKANLIÄžINA">BATI DÄ°LLERÄ° VE EDEBÄ°YATLARI</option>
      </select>


      <button type="submit">DilekÃ§eyi OluÅŸtur</button>
    </form>

    <!-- DilekÃ§e GÃ¶rÃ¼nÃ¼mÃ¼ -->
    <div class="letter-section" id="dilekceOutput">

      <!-- SeÃ§ilen bÃ¶lÃ¼m dÃ¼z metin olarak -->
      <p id="bolumYazisi" class="center-text" style="font-weight: bold; margin-bottom: 2cm;"></p>

      <div class="left-text" id="ogrenciBilgileri"></div>

      <p style="margin-top: 30px; text-align: justify;">
        2025-2026 EÄŸitim-Ã–ÄŸretim yÄ±lÄ± <strong>BAHAR</strong> dÃ¶neminde Ã§akÄ±ÅŸma nedeniyle alamadÄ±ÄŸÄ±m
        aÅŸaÄŸÄ±daki dersin 28.08.2025 tarih ve 2025/08-20 sayÄ±lÄ± Senato KararÄ±
        gereÄŸince Ã–ÄŸrenci Bilgi Sistemine eklenmesi hususunda gereÄŸini arz ederim.
      </p>

      <table>
        <tr>
          <th>OBS Ãœzerinden SeÃ§tiÄŸim Dersin Kodu-AdÄ±</th>
          <th>FYK KararÄ± ile Eklenecek Dersin Kodu-AdÄ±</th>
          <th>Dersin Grubu</th>
          <th>Derslerin GÃ¼n ve Saati</th>
        </tr>
        <tr>
          <td id="obsDersCell"></td>
          <td id="yeniDersCell"></td>
          <td id="grupCell"></td>
          <td id="gunsaatCell"></td>
        </tr>
      </table>

<p style="margin-top: 20px;"><strong>Eklenecek Ders Dahil GÃœZ YarÄ±yÄ±lÄ±nda AlÄ±nan Toplam Kredi:</strong> <span id="krediBilgisi"></span></p>


      <br /><br />
      <p style="text-align: right;" id="tarihYeri"></p>
     <div id="epostaAltMetin"></div>
    </div>

    <!-- PDF indir butonu -->
    <div class="download-button" id="downloadBtnDiv">
      <button id="downloadBtn">ðŸ“¥ PDF Olarak Ä°ndir</button>
    </div>
  </div>

  <script>
    document.getElementById("dilekceForm").addEventListener("submit", function (e) {
      e.preventDefault();

      // Form verilerini al
      const ad = document.getElementById("ad").value;
      const soyad = document.getElementById("soyad").value;
      const numara = document.getElementById("numara").value;
      const email = document.getElementById("email").value;
      const telefon = document.getElementById("telefon").value;
      const obsDers = document.getElementById("obsDers").value;
      const yeniDers = document.getElementById("yeniDers").value;
      const grup = document.getElementById("grup").value;
      const gunsaat = document.getElementById("gunsaat").value;
      const bolum = document.getElementById("bolumSelect").value;
      const kredi = document.getElementById("kredi").value;

adSoyad = `${ad}_${soyad}`.replace(/\s+/g, "_"); // BoÅŸluklarÄ± alt Ã§izgi yap


      const today = new Date();
      const formattedDate = today.toLocaleDateString("tr-TR");

      // Ã–ÄŸrenci bilgileri + telefon altÄ±na 2cm boÅŸluk
      const bilgiler = `<strong>Ad Soyad:</strong> ${ad} ${soyad}<br>
<strong>Ã–ÄŸrenci No:</strong> ${numara}<br>
<strong>E-posta:</strong> ${email}<br>
<strong>Telefon:</strong> ${telefon}<br><div style="margin-bottom:2cm;"></div>`;

      // DilekÃ§eye yazdÄ±r
      document.getElementById("ogrenciBilgileri").innerHTML = bilgiler;
      document.getElementById("obsDersCell").innerText = obsDers;
      document.getElementById("yeniDersCell").innerText = yeniDers;
      document.getElementById("grupCell").innerText = grup;
      document.getElementById("gunsaatCell").innerText = gunsaat;
      document.getElementById("tarihYeri").innerText = `Tarih: ${formattedDate}`;
      document.getElementById("epostaAltMetin").innerText = `Bu belge ${email} adresinden bÃ¶lÃ¼me iletilmiÅŸtir.`;
      document.getElementById("bolumYazisi").innerText = bolum;
      document.getElementById("krediBilgisi").innerText = kredi;

      // GÃ¶ster
      document.getElementById("dilekceOutput").style.display = "block";
      document.getElementById("downloadBtnDiv").style.display = "block";
    });

    // PDF oluÅŸtur
let adSoyad = "dilekce"; // varsayÄ±lan dosya adÄ±
    document.getElementById("downloadBtn").addEventListener("click", function () {
      const element = document.getElementById("dilekceOutput");
      element.style.display = "block";

      setTimeout(() => {
        const opt = {
          margin: 0.5,
         filename: `${adSoyad}_dilekce.pdf`,
          image: { type: "jpeg", quality: 0.98 },
          html2canvas: { scale: 2, scrollX: 0, scrollY: 0 },
          jsPDF: { unit: "in", format: "a4", orientation: "portrait" }
        };
        html2pdf().set(opt).from(element).save();
      }, 200);
    });
  </script>
</body>
</html>
